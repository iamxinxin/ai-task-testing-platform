<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI任务自动化测试平台</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="/static/css/style.css" rel="stylesheet">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="/">
                <i class="fas fa-robot me-2"></i>
                AI任务自动化测试平台
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#dashboard">仪表板</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#test-cases">测试用例</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#models">模型管理</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#results">测试结果</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container-fluid mt-4">
        <div class="row">
            <!-- 侧边栏 -->
            <div class="col-md-3 col-lg-2">
                <div class="sidebar">
                    <ul class="nav nav-pills flex-column">
                        <li class="nav-item">
                            <a class="nav-link active" href="#" onclick="showSection('dashboard')">
                                <i class="fas fa-tachometer-alt me-2"></i>仪表板
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" onclick="showSection('classification')">
                                <i class="fas fa-tags me-2"></i>分类任务
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" onclick="showSection('correction')">
                                <i class="fas fa-spell-check me-2"></i>纠错任务
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" onclick="showSection('dialogue')">
                                <i class="fas fa-comments me-2"></i>对话任务
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" onclick="showSection('rag')">
                                <i class="fas fa-search me-2"></i>RAG任务
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" onclick="showSection('agent')">
                                <i class="fas fa-cogs me-2"></i>Agent任务
                            </a>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- 主内容区 -->
            <div class="col-md-9 col-lg-10">
                <!-- 仪表板 -->
                <div id="dashboard-section" class="content-section">
                    <h2><i class="fas fa-tachometer-alt me-2"></i>仪表板</h2>
                    
                    <!-- 概览卡片 -->
                    <div class="row mb-4">
                        <div class="col-md-3">
                            <div class="card bg-primary text-white">
                                <div class="card-body">
                                    <div class="d-flex justify-content-between">
                                        <div>
                                            <h4 id="total-tests">0</h4>
                                            <p class="mb-0">总测试数</p>
                                        </div>
                                        <i class="fas fa-vial fa-2x"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card bg-success text-white">
                                <div class="card-body">
                                    <div class="d-flex justify-content-between">
                                        <div>
                                            <h4 id="avg-score">0.0</h4>
                                            <p class="mb-0">平均分数</p>
                                        </div>
                                        <i class="fas fa-star fa-2x"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card bg-info text-white">
                                <div class="card-body">
                                    <div class="d-flex justify-content-between">
                                        <div>
                                            <h4 id="avg-time">0.0s</h4>
                                            <p class="mb-0">平均执行时间</p>
                                        </div>
                                        <i class="fas fa-clock fa-2x"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card bg-warning text-white">
                                <div class="card-body">
                                    <div class="d-flex justify-content-between">
                                        <div>
                                            <h4 id="recent-tests">0</h4>
                                            <p class="mb-0">近7天测试</p>
                                        </div>
                                        <i class="fas fa-calendar-week fa-2x"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 图表区域 -->
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h5>任务类型分布</h5>
                                </div>
                                <div class="card-body">
                                    <canvas id="taskTypeChart"></canvas>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h5>模型性能对比</h5>
                                </div>
                                <div class="card-body">
                                    <canvas id="modelPerformanceChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 最近测试结果 -->
                    <div class="row mt-4">
                        <div class="col-12">
                            <div class="card">
                                <div class="card-header">
                                    <h5>最近测试结果</h5>
                                </div>
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <table class="table table-striped" id="recent-tests-table">
                                            <thead>
                                                <tr>
                                                    <th>测试用例</th>
                                                    <th>任务类型</th>
                                                    <th>模型</th>
                                                    <th>分数</th>
                                                    <th>状态</th>
                                                    <th>执行时间</th>
                                                    <th>创建时间</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <!-- 动态加载 -->
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 分类任务 -->
                <div id="classification-section" class="content-section" style="display: none;">
                    <h2><i class="fas fa-tags me-2"></i>分类任务测试</h2>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h5>创建测试用例</h5>
                                </div>
                                <div class="card-body">
                                    <form id="classification-form">
                                        <div class="mb-3">
                                            <label class="form-label">测试用例名称</label>
                                            <input type="text" class="form-control" name="name" required>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">描述</label>
                                            <textarea class="form-control" name="description" rows="2"></textarea>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">输入文本</label>
                                            <textarea class="form-control" name="text" rows="3" required></textarea>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">可选标签（用逗号分隔）</label>
                                            <input type="text" class="form-control" name="labels" placeholder="positive,negative,neutral">
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">期望标签</label>
                                            <input type="text" class="form-control" name="expected_label" required>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">期望置信度</label>
                                            <input type="number" class="form-control" name="expected_confidence" min="0" max="1" step="0.01" value="0.8">
                                        </div>
                                        <button type="submit" class="btn btn-primary">创建测试用例</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h5>运行测试</h5>
                                </div>
                                <div class="card-body">
                                    <form id="run-classification-test">
                                        <div class="mb-3">
                                            <label class="form-label">选择测试用例</label>
                                            <select class="form-select" name="test_case_id" required>
                                                <option value="">请选择测试用例</option>
                                            </select>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">选择模型</label>
                                            <select class="form-select" name="model_name" required>
                                                <option value="mock-classifier">Mock分类器</option>
                                                <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
                                                <option value="gpt-4">GPT-4</option>
                                                <option value="claude-3-sonnet">Claude-3 Sonnet</option>
                                            </select>
                                        </div>
                                        <button type="submit" class="btn btn-success">运行测试</button>
                                    </form>
                                    
                                    <div id="classification-result" class="mt-3" style="display: none;">
                                        <h6>测试结果：</h6>
                                        <div class="alert alert-info">
                                            <pre id="classification-result-content"></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 纠错任务 -->
                <div id="correction-section" class="content-section" style="display: none;">
                    <h2><i class="fas fa-spell-check me-2"></i>纠错任务测试</h2>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h5>创建纠错测试用例</h5>
                                </div>
                                <div class="card-body">
                                    <form id="correction-form">
                                        <div class="mb-3">
                                            <label class="form-label">测试用例名称</label>
                                            <input type="text" class="form-control" name="name" required>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">描述</label>
                                            <textarea class="form-control" name="description" rows="2"></textarea>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">原始文本（包含错误）</label>
                                            <textarea class="form-control" name="original_text" rows="4" required placeholder="输入包含语法、拼写或逻辑错误的文本..."></textarea>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">期望纠正后的文本</label>
                                            <textarea class="form-control" name="expected_corrected" rows="4" required placeholder="输入期望的纠正结果..."></textarea>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">错误类型</label>
                                            <select class="form-select" name="error_type">
                                                <option value="grammar">语法错误</option>
                                                <option value="spelling">拼写错误</option>
                                                <option value="punctuation">标点符号</option>
                                                <option value="logic">逻辑错误</option>
                                                <option value="mixed">混合错误</option>
                                            </select>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">最小相似度阈值</label>
                                            <input type="number" class="form-control" name="min_similarity" min="0" max="1" step="0.01" value="0.8">
                                        </div>
                                        <button type="submit" class="btn btn-primary">创建测试用例</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h5>运行纠错测试</h5>
                                </div>
                                <div class="card-body">
                                    <form id="run-correction-test">
                                        <div class="mb-3">
                                            <label class="form-label">选择测试用例</label>
                                            <select class="form-select" name="test_case_id" required>
                                                <option value="">请选择测试用例</option>
                                            </select>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">选择模型</label>
                                            <select class="form-select" name="model_name" required>
                                                <option value="mock-corrector">Mock纠错器</option>
                                                <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
                                                <option value="gpt-4">GPT-4</option>
                                                <option value="claude-3-sonnet">Claude-3 Sonnet</option>
                                            </select>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">纠错模式</label>
                                            <select class="form-select" name="correction_mode">
                                                <option value="conservative">保守模式（只纠正明显错误）</option>
                                                <option value="aggressive">激进模式（全面纠错）</option>
                                                <option value="balanced">平衡模式（适度纠错）</option>
                                            </select>
                                        </div>
                                        <button type="submit" class="btn btn-success">运行测试</button>
                                    </form>
                                    
                                    <div id="correction-result" class="mt-3" style="display: none;">
                                        <h6>测试结果：</h6>
                                        <div class="alert alert-info">
                                            <pre id="correction-result-content"></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 对话任务 -->
                <div id="dialogue-section" class="content-section" style="display: none;">
                    <h2><i class="fas fa-comments me-2"></i>对话任务测试</h2>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h5>创建对话测试用例</h5>
                                </div>
                                <div class="card-body">
                                    <form id="dialogue-form">
                                        <div class="mb-3">
                                            <label class="form-label">测试用例名称</label>
                                            <input type="text" class="form-control" name="name" required>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">描述</label>
                                            <textarea class="form-control" name="description" rows="2"></textarea>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">对话历史（JSON格式）</label>
                                            <textarea class="form-control" name="conversation_history" rows="6" required placeholder='[{"role": "user", "content": "你好"}, {"role": "assistant", "content": "您好！有什么可以帮助您的吗？"}]'></textarea>
                                            <small class="form-text text-muted">请输入JSON格式的对话历史，包含role和content字段</small>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">用户输入</label>
                                            <textarea class="form-control" name="user_input" rows="2" required placeholder="用户的新消息..."></textarea>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">期望回复关键词</label>
                                            <input type="text" class="form-control" name="expected_keywords" placeholder="用逗号分隔的关键词">
                                            <small class="form-text text-muted">AI回复中应包含的关键词</small>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">对话类型</label>
                                            <select class="form-select" name="dialogue_type">
                                                <option value="casual">日常对话</option>
                                                <option value="customer_service">客服对话</option>
                                                <option value="technical">技术支持</option>
                                                <option value="educational">教育辅导</option>
                                                <option value="creative">创意写作</option>
                                            </select>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">最小回复长度</label>
                                            <input type="number" class="form-control" name="min_response_length" value="10">
                                        </div>
                                        <button type="submit" class="btn btn-primary">创建测试用例</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h5>运行对话测试</h5>
                                </div>
                                <div class="card-body">
                                    <form id="run-dialogue-test">
                                        <div class="mb-3">
                                            <label class="form-label">选择测试用例</label>
                                            <select class="form-select" name="test_case_id" required>
                                                <option value="">请选择测试用例</option>
                                            </select>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">选择模型</label>
                                            <select class="form-select" name="model_name" required>
                                                <option value="mock-chatbot">Mock聊天机器人</option>
                                                <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
                                                <option value="gpt-4">GPT-4</option>
                                                <option value="claude-3-sonnet">Claude-3 Sonnet</option>
                                            </select>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">温度参数</label>
                                            <input type="number" class="form-control" name="temperature" min="0" max="2" step="0.1" value="0.7">
                                            <small class="form-text text-muted">控制回复的创造性，0-2之间</small>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">最大回复长度</label>
                                            <input type="number" class="form-control" name="max_tokens" value="150">
                                        </div>
                                        <button type="submit" class="btn btn-success">运行测试</button>
                                    </form>
                                    
                                    <div id="dialogue-result" class="mt-3" style="display: none;">
                                        <h6>测试结果：</h6>
                                        <div class="alert alert-info">
                                            <pre id="dialogue-result-content"></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- RAG任务 -->
                <div id="rag-section" class="content-section" style="display: none;">
                    <h2><i class="fas fa-search me-2"></i>RAG任务测试</h2>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h5>创建RAG测试用例</h5>
                                </div>
                                <div class="card-body">
                                    <form id="rag-form">
                                        <div class="mb-3">
                                            <label class="form-label">测试用例名称</label>
                                            <input type="text" class="form-control" name="name" required>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">描述</label>
                                            <textarea class="form-control" name="description" rows="2"></textarea>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">知识库文档（每行一个文档）</label>
                                            <textarea class="form-control" name="knowledge_base" rows="6" required placeholder="文档1：关于产品A的详细介绍...&#10;文档2：产品A的技术规格...&#10;文档3：产品A的使用说明..."></textarea>
                                            <small class="form-text text-muted">每行代表一个文档，将用于构建知识库</small>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">用户查询</label>
                                            <textarea class="form-control" name="query" rows="2" required placeholder="用户想要查询的问题..."></textarea>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">期望答案关键词</label>
                                            <input type="text" class="form-control" name="expected_keywords" placeholder="用逗号分隔的关键词">
                                            <small class="form-text text-muted">答案中应包含的关键词</small>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">检索文档数量</label>
                                            <input type="number" class="form-control" name="top_k" value="3" min="1" max="10">
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">最小相关性阈值</label>
                                            <input type="number" class="form-control" name="min_relevance" min="0" max="1" step="0.01" value="0.7">
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">RAG类型</label>
                                            <select class="form-select" name="rag_type">
                                                <option value="simple">简单RAG</option>
                                                <option value="conversational">对话式RAG</option>
                                                <option value="multi_query">多查询RAG</option>
                                                <option value="hierarchical">层次化RAG</option>
                                            </select>
                                        </div>
                                        <button type="submit" class="btn btn-primary">创建测试用例</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h5>运行RAG测试</h5>
                                </div>
                                <div class="card-body">
                                    <form id="run-rag-test">
                                        <div class="mb-3">
                                            <label class="form-label">选择测试用例</label>
                                            <select class="form-select" name="test_case_id" required>
                                                <option value="">请选择测试用例</option>
                                            </select>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">选择模型</label>
                                            <select class="form-select" name="model_name" required>
                                                <option value="mock-rag">Mock RAG系统</option>
                                                <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
                                                <option value="gpt-4">GPT-4</option>
                                                <option value="claude-3-sonnet">Claude-3 Sonnet</option>
                                            </select>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">嵌入模型</label>
                                            <select class="form-select" name="embedding_model">
                                                <option value="text-embedding-ada-002">OpenAI Ada-002</option>
                                                <option value="sentence-transformers">Sentence Transformers</option>
                                                <option value="mock-embedding">Mock嵌入模型</option>
                                            </select>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">检索策略</label>
                                            <select class="form-select" name="retrieval_strategy">
                                                <option value="similarity">相似度检索</option>
                                                <option value="mmr">最大边际相关性</option>
                                                <option value="diversity">多样性检索</option>
                                            </select>
                                        </div>
                                        <button type="submit" class="btn btn-success">运行测试</button>
                                    </form>
                                    
                                    <div id="rag-result" class="mt-3" style="display: none;">
                                        <h6>测试结果：</h6>
                                        <div class="alert alert-info">
                                            <pre id="rag-result-content"></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Agent任务 -->
                <div id="agent-section" class="content-section" style="display: none;">
                    <h2><i class="fas fa-cogs me-2"></i>Agent任务测试</h2>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h5>创建Agent测试用例</h5>
                                </div>
                                <div class="card-body">
                                    <form id="agent-form">
                                        <div class="mb-3">
                                            <label class="form-label">测试用例名称</label>
                                            <input type="text" class="form-control" name="name" required>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">描述</label>
                                            <textarea class="form-control" name="description" rows="2"></textarea>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">任务目标</label>
                                            <textarea class="form-control" name="task_goal" rows="3" required placeholder="描述Agent需要完成的具体任务目标..."></textarea>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">可用工具（JSON格式）</label>
                                            <textarea class="form-control" name="available_tools" rows="6" required placeholder='[{"name": "search", "description": "搜索信息", "parameters": {"query": "string"}}, {"name": "calculator", "description": "计算器", "parameters": {"expression": "string"}}]'></textarea>
                                            <small class="form-text text-muted">定义Agent可以使用的工具列表</small>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">初始环境状态</label>
                                            <textarea class="form-control" name="initial_state" rows="3" placeholder="描述初始环境状态和可用资源..."></textarea>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">期望结果</label>
                                            <textarea class="form-control" name="expected_result" rows="3" required placeholder="描述期望的任务完成结果..."></textarea>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">成功标准</label>
                                            <input type="text" class="form-control" name="success_criteria" placeholder="用逗号分隔的成功标准">
                                            <small class="form-text text-muted">评估任务是否成功完成的标准</small>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">最大步骤数</label>
                                            <input type="number" class="form-control" name="max_steps" value="10" min="1" max="50">
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">Agent类型</label>
                                            <select class="form-select" name="agent_type">
                                                <option value="reasoning">推理型Agent</option>
                                                <option value="planning">规划型Agent</option>
                                                <option value="reactive">反应型Agent</option>
                                                <option value="multi_agent">多Agent协作</option>
                                            </select>
                                        </div>
                                        <button type="submit" class="btn btn-primary">创建测试用例</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h5>运行Agent测试</h5>
                                </div>
                                <div class="card-body">
                                    <form id="run-agent-test">
                                        <div class="mb-3">
                                            <label class="form-label">选择测试用例</label>
                                            <select class="form-select" name="test_case_id" required>
                                                <option value="">请选择测试用例</option>
                                            </select>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">选择模型</label>
                                            <select class="form-select" name="model_name" required>
                                                <option value="mock-agent">Mock Agent</option>
                                                <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
                                                <option value="gpt-4">GPT-4</option>
                                                <option value="claude-3-sonnet">Claude-3 Sonnet</option>
                                            </select>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">执行模式</label>
                                            <select class="form-select" name="execution_mode">
                                                <option value="step_by_step">逐步执行</option>
                                                <option value="autonomous">自主执行</option>
                                                <option value="interactive">交互式执行</option>
                                            </select>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">超时时间（秒）</label>
                                            <input type="number" class="form-control" name="timeout" value="300" min="30" max="3600">
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">详细日志</label>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" name="verbose_logging" checked>
                                                <label class="form-check-label">
                                                    记录详细的执行步骤和推理过程
                                                </label>
                                            </div>
                                        </div>
                                        <button type="submit" class="btn btn-success">运行测试</button>
                                    </form>
                                    
                                    <div id="agent-result" class="mt-3" style="display: none;">
                                        <h6>测试结果：</h6>
                                        <div class="alert alert-info">
                                            <pre id="agent-result-content"></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 加载提示 -->
    <div id="loading-overlay" class="loading-overlay" style="display: none;">
        <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/static/js/app.js"></script>
</body>
</html>